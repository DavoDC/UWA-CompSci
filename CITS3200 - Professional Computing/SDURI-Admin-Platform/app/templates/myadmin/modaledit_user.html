<div class="modal-dialog">
    <div class="modal-content">
        <div class="modal-header">
            <h4 class="modal-title">Update Information</h4>
        </div>
        <div class="modal-body">
            <form action="{{url_for('myadmin.update')}}" method="POST">

                <!--Hidden-->
                <div class="form-group">
                    <input type="hidden" name="id" value="{{row.id}}">
                    <input type="hidden" name="email" value="{{row.email}}">
                </div>


                <!--Name-->
                <div class="form-group">
                    <label>Name:</label>
                    <input type="text" class="form-control" name="name" 
                           value="{{row.name}}">
                </div>

                <!--Role-->
                <div class="form-group">
                    <label for="role">Role:</label>
                    <select name="role" id="{{row.id}}_new_role">
                        <option value="Student">Student</option>
                        <option value="Supervisor">Supervisor</option>
                        <option value="Administrator">Administrator</option>
                    </select>
                </div>



                <div class="form-group">
                    <button class="btn btn-primary" type="submit">Update</button>
                </div>
            </form>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" 
                    data-dismiss="modal">
                Close
            </button>
        </div>
    </div>
</div>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>

<script>
    $(document).ready( function () {

        var ddl = document.getElementById("{{row.id}}_new_role");
        var opts = ddl.options.length;
        for (var i = 0; i < opts; i++) {
            if (ddl.options[i].value === "{{row.role}}") {
                ddl.options[i].selected = true;
                break;
            }
        }
    });
</script>